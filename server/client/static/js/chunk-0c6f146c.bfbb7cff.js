(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c6f146c"],{"311f":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{title:"加入社团","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),n("div",{staticClass:"content"},[n("div",{staticClass:"picture"},[n("img",{attrs:{src:t.imgUrl+t.model.icon,alt:""}})]),n("div",{staticClass:"card"},[n("div",{staticClass:"title"},[t._v(t._s(t.model.organization_name))]),n("div",{staticClass:"people-number"},[t._v(" 已有"),n("span",[t._v(t._s(t.model.people_num))]),t._v("人加入社团 ")])]),n("div",{staticClass:"box"},[n("div",{staticClass:"category"},[n("span",[t._v("社团隶属部门：")]),t._v(t._s(t.model.department_name)+" ")]),n("div",{staticClass:"introduction"},[n("div",{staticClass:"introduction-title"},[t._v("社团介绍")]),n("div",{staticClass:"introduction-content",domProps:{innerHTML:t._s(t.model.introduction)}})])])]),n("van-goods-action",[n("van-goods-action-icon",{attrs:{icon:"home-o",text:"首页"},on:{click:function(e){return t.$router.push("/")}}}),n("van-goods-action-icon",{attrs:{icon:"user-o",text:"我的"},on:{click:function(e){return t.$router.push("/mine")}}}),n("van-goods-action-button",{attrs:{type:"danger",color:"#00d09e",text:"立即加入社团"},on:{click:t.joinThis}})],1)],1)},i=[],a=n("1da1"),o=(n("96cf"),{props:{id:{type:String,default:""}},data:function(){return{model:{},imgUrl:"http://127.0.0.1:21505/images/",userInfo:{user_id:""}}},mounted:function(){this.getUserInfo(),this.fetch()},methods:{getUserInfo:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.getUserInfo();case 2:n=e.sent,r=n.data,t.userInfo=r.data;case 5:case"end":return e.stop()}}),e)})))()},joinThis:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.userInfo.user_id){e.next=2;break}return e.abrupt("return",t.$toast.fail("您还没有登录账户"));case 2:return e.next=4,t.$http.joinOrganization({userId:t.userInfo.user_id,organizationId:t.id,status:0});case 4:t.$toast.success("您已申请加入社团，等待管理员审核");case 5:case"end":return e.stop()}}),e)})))()},onClickLeft:function(){this.$router.back()},fetch:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.getOrganizationById({organization_id:t.id});case 2:n=e.sent,r=n.data,t.model=r.data[0];case 5:case"end":return e.stop()}}),e)})))()}}}),s=o,c=(n("ff44"),n("2877")),u=Object(c["a"])(s,r,i,!1,null,"ce925fb8",null);e["default"]=u.exports},ddd8:function(t,e,n){},ff44:function(t,e,n){"use strict";n("ddd8")}}]);